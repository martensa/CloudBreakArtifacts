{
  "properties": {
    "content": "\n            <!--\n            Licensed to the Apache Software Foundation (ASF) under one or more\n            contributor license agreements.  See the NOTICE file distributed with\n            this work for additional information regarding copyright ownership.\n            The ASF licenses this file to You under the Apache License, Version 2.0\n            (the \"License\"); you may not use this file except in compliance with\n            the License.  You may obtain a copy of the License at\n            http://www.apache.org/licenses/LICENSE-2.0\n            Unless required by applicable law or agreed to in writing, software\n            distributed under the License is distributed on an \"AS IS\" BASIS,\n            WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n            See the License for the specific language governing permissions and\n            limitations under the License.\n            -->\n            <!--\n            This file lists the userGroupProviders, accessPolicyProviders, and authorizers to use when running securely. In order\n            to use a specific authorizer it must be configured here and it's identifier must be specified in the nifi.properties file.\n            If the authorizer is a managedAuthorizer, it may need to be configured with an accessPolicyProvider and an userGroupProvider.\n            This file allows for configuration of them, but they must be configured in order:\n\n            ...\n            all userGroupProviders\n            all accessPolicyProviders\n            all Authorizers\n            ...\n            -->\n\n            <authorizers>\n\n            {% if not (has_ranger_admin and enable_ranger_nifi) %}\n            <userGroupProvider>\n            <identifier>file-user-group-provider</identifier>\n            <class>org.apache.nifi.authorization.FileUserGroupProvider</class>\n            <property name=\"Users File\">{{nifi_flow_config_dir}}/users.xml</property>\n            <property name=\"Legacy Authorized Users File\"></property>\n            <property name=\"Initial User Identity 0\">{{nifi_initial_admin_id}}</property>\n            {{nifi_ssl_config_content | replace(\"Node\",\"Initial User\")}}\n            </userGroupProvider>\n\n            <accessPolicyProvider>\n            <identifier>file-access-policy-provider</identifier>\n            <class>org.apache.nifi.authorization.FileAccessPolicyProvider</class>\n            <property name=\"User Group Provider\">file-user-group-provider</property>\n            <property name=\"Authorizations File\">{{nifi_flow_config_dir}}/authorizations.xml</property>\n            <property name=\"Initial Admin Identity\">{{nifi_initial_admin_id}}</property>\n            <property name=\"Legacy Authorized Users File\"></property>\n            {{nifi_ssl_config_content}}\n            </accessPolicyProvider>\n\n            <authorizer>\n            <identifier>{{nifi_authorizer}}</identifier>\n            <class>org.apache.nifi.authorization.StandardManagedAuthorizer</class>\n            <property name=\"Access Policy Provider\">file-access-policy-provider</property>\n            </authorizer>\n            {% else %}\n\n            <authorizer>\n            <identifier>{{nifi_authorizer}}</identifier>\n            <class>org.apache.nifi.ranger.authorization.RangerNiFiAuthorizer</class>\n            <property name=\"Ranger Audit Config Path\">{{nifi_config_dir}}/ranger-nifi-audit.xml</property>\n            <property name=\"Ranger Security Config Path\">{{nifi_config_dir}}/ranger-nifi-security.xml</property>\n            <property name=\"Ranger Service Type\">nifi</property>\n            <property name=\"Ranger Application Id\">nifi</property>\n            <property name=\"Ranger Admin Identity\">{{ranger_admin_identity}}</property>\n            {% if security_enabled %}\n            <property name=\"Ranger Kerberos Enabled\">true</property>\n            {% else %}\n            <property name=\"Ranger Kerberos Enabled\">false</property>\n            {% endif %}\n            </authorizer>\n            {% endif %}\n\n            </authorizers>"
  }
}
